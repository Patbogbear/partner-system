"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[330],{8712:function(e,s,r){r.d(s,{Z:function(){return w}});r(7658);var o=r(8830),t=r(1120),a=r(821);const l=e=>((0,a.dD)("data-v-9522ce64"),e=e(),(0,a.Cn)(),e),n={"aria-live":"polite","aria-atomic":"true",style:{position:"relative","min-height":"200px"}},i={style:{position:"absolute",top:"0",right:"0"}},c={class:"toast-header"},u={class:"mr-auto"},d=l((()=>(0,a._)("small",{class:"text-muted"},"just now",-1))),m=l((()=>(0,a._)("span",{"aria-hidden":"true"},"Ã—",-1))),p=[m];var _={__name:"ToastComponent",props:{message:{type:String,default:""},statusCode:{type:Number,default:200}},setup(e,{expose:s}){const r=e,o=(0,a.iH)(!1),t=(0,a.Fl)((()=>{switch(r.statusCode){case 200:return"alert-success";case 400:return"alert-warning";case 403:return"alert-secondary";case 404:return"alert-danger";case 500:return"alert-danger";default:return"alert-primary"}})),l=()=>{(0,a.Y3)((()=>{let e=document.querySelector(".toast"),s=new bootstrap.Toast(e);s.show(),o.value=!0}))},m=()=>{let e=document.querySelector(".toast"),s=new bootstrap.Toast(e);s.hide(),o.value=!1};return s({show:l,closeToast:m}),(s,r)=>((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",i,[(0,a._)("div",{class:(0,a.C_)(["toast alert",(0,a.SU)(t)]),role:"alert","aria-live":"assertive","aria-atomic":"true"},[(0,a._)("div",c,[(0,a._)("strong",u,(0,a.zw)(e.message),1),d,(0,a._)("button",{type:"button",class:"ml-2 mb-1 close","data-dismiss":"toast",onClick:m,"aria-label":"Close"},p)])],2)])]))}},g=r(3744);const h=(0,g.Z)(_,[["__scopeId","data-v-9522ce64"]]);var v=h;function b(){const e=(e,s)=>{console.log("Inside showToast function");const r=document.createElement("div");document.body.appendChild(r);const o=(0,a.ri)(v,{message:e,statusCode:s}),t=o.mount(r);console.log("Toast added to body"),t&&"function"===typeof t.show&&t.show(),setTimeout((()=>{o.unmount(),document.body.removeChild(r),console.log("Toast removed from body")}),3e4)};return{showToast:e}}var f=b;o.Z.interceptors.request.use((e=>(localStorage.userToken&&(e.headers.Authorization=localStorage.userToken),e)),(e=>Promise.reject(e))),o.Z.interceptors.response.use((e=>{const{showToast:s}=f();return e.data&&e.data.message&&s(e.data.message,e.status),e}),(async e=>{const{showToast:s}=f();if(console.log("error response:",e.response),e.response){const{status:r,data:o}=e.response,a=o.message||o.error||"An error occurred.";401===r?(s("Token invalid. Please login again.",r,"error"),localStorage.removeItem("userToken"),t.Z.push("/login")):s(a,r)}else s("Network error. Please try again.","error");return Promise.reject(e)}));var w=o.Z},3744:function(e,s){s.Z=(e,s)=>{const r=e.__vccOpts||e;for(const[o,t]of s)r[o]=t;return r}},9330:function(e,s,r){r.r(s),r.d(s,{default:function(){return O}});var o=r(821);const t=e=>((0,o.dD)("data-v-3c909281"),e=e(),(0,o.Cn)(),e),a={class:"col-md-12 register"},l=t((()=>(0,o._)("div",{class:"register-image"},null,-1))),n=t((()=>(0,o._)("div",{class:"card-header"},[(0,o._)("h3",{class:"card-title"},"Register")],-1))),i={class:"card-body"},c={class:"mb-3"},u=t((()=>(0,o._)("label",{class:"form-label required"},"User name",-1))),d={class:"mb-3"},m=t((()=>(0,o._)("label",{class:"form-label"},"Cluster",-1))),p=t((()=>(0,o._)("option",null,"SH",-1))),_=t((()=>(0,o._)("option",null,"HZ",-1))),g=t((()=>(0,o._)("option",null,"BJ",-1))),h=[p,_,g],v={class:"mb-3"},b=t((()=>(0,o._)("label",{class:"form-label required"},"Email address",-1))),f={class:"mb-3"},w=t((()=>(0,o._)("label",{class:"form-label required"},"Password",-1))),y={class:"mb-3"},C=t((()=>(0,o._)("label",{class:"form-label required"},"Double Check Password",-1))),T=t((()=>(0,o._)("small",{class:"form-hint"},null,-1))),P={class:"mb-3"},k=t((()=>(0,o._)("label",{class:"form-label"},"Select Role",-1))),q=t((()=>(0,o._)("option",null,"Sales",-1))),S=t((()=>(0,o._)("option",{value:"POC"},"Pod-Leader/POC",-1))),U=t((()=>(0,o._)("option",null,"Team-Leader",-1))),Z=[q,S,U],L={class:"card-footer text-end"},V=t((()=>(0,o._)("span",{class:"p-1 text-primary-emphasis bs-primary-bg-subtle"},"Login here",-1)));function x(e,s,r,t,p,_){return(0,o.wg)(),(0,o.iD)("div",a,[l,(0,o._)("form",{class:"card",onSubmit:s[8]||(s[8]=(0,o.iM)((e=>_.registerUser()),["prevent"]))},[n,(0,o._)("div",i,[(0,o._)("div",c,[u,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"name",class:"form-control",placeholder:"Enter name","onUpdate:modelValue":s[0]||(s[0]=e=>p.users.name=e),required:""},null,512),[[o.nr,p.users.name]])])]),(0,o._)("div",d,[m,(0,o._)("div",null,[(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":s[1]||(s[1]=e=>p.users.cluster=e)},h,512),[[o.bM,p.users.cluster]])])]),(0,o._)("div",v,[b,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"email",class:"form-control","aria-describedby":"emailHelp",placeholder:"Enter email","onUpdate:modelValue":s[2]||(s[2]=e=>p.users.email=e),required:""},null,512),[[o.nr,p.users.email]])])]),(0,o._)("div",f,[w,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",placeholder:"Password","onUpdate:modelValue":s[3]||(s[3]=e=>p.users.password=e),required:""},null,512),[[o.nr,p.users.password]])])]),(0,o._)("div",y,[C,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",placeholder:"Password","onUpdate:modelValue":s[4]||(s[4]=e=>p.users.confirmPassword=e),required:""},null,512),[[o.nr,p.users.confirmPassword]]),T])]),(0,o._)("div",P,[k,(0,o._)("div",null,[(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=e=>p.users.identity=e),required:""},Z,512),[[o.bM,p.users.identity]])])])]),(0,o._)("div",L,[(0,o._)("span",{class:"go_login",onClick:s[6]||(s[6]=e=>_.gotoLogin())},[(0,o.Uk)(" Login here? "),V]),(0,o._)("button",{type:"submit",class:"btn btn-primary",onOnclick:s[7]||(s[7]=e=>_.registerUser())}," Submit ",32)])],32)])}r(7658);var D=r(8712),E={name:"register",components:{},data(){return{users:{name:"",cluster:"",email:"",password:"",identity:"",confirmPassword:""}}},methods:{registerUser(){if(!this.users.email.endsWith("@google.com"))return void alert("please use google account ");this.users.password!==this.users.confirmPassword&&alert("password not match");D.Z.post("/api/users/register",this.users).then((e=>{console.log(this.users),this.$router.push({path:"/login"})})).catch((e=>{console.error(e)}))},gotoLogin(){this.$router.push("/login")}}},H=r(3744);const I=(0,H.Z)(E,[["render",x],["__scopeId","data-v-3c909281"]]);var O=I}}]);
//# sourceMappingURL=330.56a75dfd.js.map