{"version":3,"file":"assets/js/961.a0e7641f.js","mappings":"mOACOA,MAAM,mB,UACTC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,eAAa,W,UAItBC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,eAAa,EACtBC,EAAAA,EAAAA,GAAiC,MAA7BD,MAAM,cAAa,WAAK,K,GAEzBA,MAAM,a,GACJA,MAAM,Q,UACTC,EAAAA,EAAAA,GAAwD,SAAjDD,MAAM,uBAAsB,iBAAa,K,UAS9CC,EAAAA,EAAAA,GAEC,SAFMD,MAAM,aACV,kDAA8C,K,GAIhDA,MAAM,Q,UACTC,EAAAA,EAAAA,GAAmD,SAA5CD,MAAM,uBAAsB,YAAQ,K,UAQzCC,EAAAA,EAAAA,GAEQ,SAFDD,MAAM,aAAY,gDAEzB,K,GAIDA,MAAM,wB,UAEoBC,EAAAA,EAAAA,GAAkF,QAA5ED,MAAM,kDAAkD,iBAAa,K,0CAzC9GE,EAAAA,EAAAA,IAgDM,MAhDNC,EAgDM,CA/CJC,GAGAH,EAAAA,EAAAA,GA2CO,QA3CDD,MAAM,OAAQK,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAUC,EAAAC,WAAO,e,CACzCC,GAGAV,EAAAA,EAAAA,GA8BM,MA9BNW,EA8BM,EA7BJX,EAAAA,EAAAA,GAcM,MAdNY,EAcM,CAbJC,GACAb,EAAAA,EAAAA,GAWM,sBAVJA,EAAAA,EAAAA,GAME,SALAc,KAAK,QACLf,MAAM,eACN,mBAAiB,YACjBgB,YAAY,c,qCACHC,EAAAC,UAAUC,MAAKX,I,iBAAfS,EAAAC,UAAUC,SAErBC,OAKJnB,EAAAA,EAAAA,GAaM,MAbNoB,EAaM,CAZJC,GACArB,EAAAA,EAAAA,GAUM,sBATJA,EAAAA,EAAAA,GAKE,SAJAc,KAAK,WACLf,MAAM,eACNgB,YAAY,W,qCACHC,EAAAC,UAAUK,SAAQf,I,iBAAlBS,EAAAC,UAAUK,YAErBC,SAMNvB,EAAAA,EAAAA,GAOM,MAPNwB,EAOM,EANJxB,EAAAA,EAAAA,GAEO,QAFDD,MAAM,cAAe0B,QAAKpB,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAkB,iB,UAAgB,gCACrBC,KAE7B3B,EAAAA,EAAAA,GAES,UAFDc,KAAK,SAASf,MAAM,kBAAmB6B,UAAOvB,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,YAAW,WAEnE,Y,iCASR,GACEoB,KAAM,WACNC,WAAY,CAAC,EACbC,OACE,MAAO,CACLd,UAAW,CACTY,KAAM,GACNX,MAAO,GACPI,SAAU,GACVU,SAAU,IAGhB,EACAC,QAAS,CACPxB,UACcyB,EAAAA,EAAAA,KAAW,mBAAoBC,KAAKlB,WAAWmB,MAAMC,IAC/DC,QAAQC,IAAI,WAEZ,MAAM,MAAEC,GAAUH,EAAIN,KACtBU,aAAaC,QAAQ,YAAaF,GAGlC,MAAMG,GAAUC,EAAAA,EAAAA,GAAWJ,GAC3BF,QAAQC,IAAIC,GAGZL,KAAKU,OAAOC,SAAS,oBAAqBX,KAAKY,QAAQJ,IACvDR,KAAKU,OAAOC,SAAS,UAAWH,GAEhCR,KAAKa,QAAQC,KAAK,CAAEC,KAAM,KAAM,GAEpC,EACAxB,eACES,KAAKa,QAAQC,KAAK,CAACC,KAAK,aAC1B,EACAH,QAAQI,GACN,YACYC,IAAVD,GACU,OAAVA,GACkB,kBAAVA,GAAoD,IAA9BE,OAAOC,KAAKH,GAAOI,QAC/B,kBAAVJ,GAA8C,IAAxBA,EAAMK,OAAOD,MAE/C,I,UC1FJ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://client/./src/views/Login.vue","webpack://client/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <div class=\"col-md-12 login\">\n    <div class=\"login-image\">\n\n    </div>\n    <form class=\"card\" @submit.prevent=\"logUser()\">\n      <div class=\"card-header\">\n        <h3 class=\"card-title\">Login</h3>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"mb-3\">\n          <label class=\"form-label required\">Email address</label>\n          <div>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"Enter email\"\n              v-model=\"loginUser.email\"\n            />\n            <small class=\"form-hint\"\n              >We'll never share your email with anyone else.</small\n            >\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label required\">Password</label>\n          <div>\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              placeholder=\"Password\"\n              v-model=\"loginUser.password\"\n            />\n            <small class=\"form-hint\">\n              Your password must be 8-20 characters long\n            </small>\n          </div>\n        </div>\n      </div>\n      <div class=\"card-footer text-end\">\n        <span class=\"go_register\" @click=\"gotoRegister()\">\n          Does't have a account yet? <span class=\"p-1 text-primary-emphasis bs-primary-bg-subtle \">Register here</span> \n        </span>\n        <button type=\"submit\" class=\"btn btn-primary\" @onclick=\"logUser()\">\n          Submit\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n<script>\nimport axios from \"../http\";\nimport jwt_decode from \"jwt-decode\";\n\nexport default {\n  name: \"register\",\n  components: {},\n  data() {\n    return {\n      loginUser: {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        identity: \"\",\n      },\n    };\n  },\n  methods: {\n    logUser() {\n      const res = axios.post(\"/api/users/login\", this.loginUser).then((res) => {\n        console.log(\"success\");\n        //token\n        const { token } = res.data;\n        localStorage.setItem(\"userToken\", token);\n\n        //decode token\n        const decoded = jwt_decode(token);\n        console.log(token);\n\n        //store token into vuex\n        this.$store.dispatch(\"setAuthenticated\", !this.isEmpty(decoded));\n        this.$store.dispatch(\"setUser\", decoded);\n\n        this.$router.push({ path: \"/\" });\n      });\n    },\n    gotoRegister() {\n      this.$router.push({path:'/register'})\n    },\n    isEmpty(value) {\n      return (\n        value === undefined ||\n        value === null ||\n        (typeof value === \"object\" && Object.keys(value).length === 0) ||\n        (typeof value === \"string\" && value.trim().length === 0)\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\n.login {\n  display: flex;\n  justify-content: center;\n  align-items: stretch;\n  padding-top: 30px;\n  margin: 0 auto;\n  max-width: 960px;\n  max-height: 650px;\n  height: 100vh; /* Make sure the register form is centered vertically in the viewport */\n  background-color: #f0f2f5; /* This is an assumed background color as per the image */\n}\n.login .login-image {\n  flex: 3;\n  background: url('~@/assets/login-register.jpg') no-repeat center center;\n  background-size: cover;\n  min-height: 400px; /* 这里设置了一个最小高度 */\n  width: 100%; /* 设置宽度为100% */\n}\n\n\n.card {\n  flex:1.5;\n  width: 100%;\n  max-width: 400px; /* Adjust width as per design in image */\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Add some shadow to the card */\n}\n\n.card-header {\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #e9ecef;\n  padding: 4px;\n}\n\n.card-title {\n  margin: 0;\n  font-size: 24px; /* Larger font size for the title */\n  font-weight: bold;\n}\n\n.card-body {\n  padding: 4px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.form-label {\n  margin-bottom: .15rem;\n  font-size: 16px;\n  color: #495057;\n}\n\n.form-control {\n  display: block;\n  width: 100%;\n  padding: .375rem .75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #ced4da;\n  border-radius: .25rem; /* Rounded borders for inputs */\n  transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n}\n\n.form-control:focus {\n  color: #495057;\n  background-color: #fff;\n  border-color: #80bdff;\n  outline: 0;\n  box-shadow: 0 0 0 .2rem rgba(0,123,255,.25);\n}\n\n.form-select {\n  display: block;\n  width: 100%;\n  padding: .375rem 1.75rem .375rem .75rem;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #495057;\n  background-color: #fff;\n  border: 1px solid #ced4da;\n  border-radius: .25rem;\n  appearance: none;\n}\n\n.btn-primary {\n  color: #fff;\n  background-color: #007bff; /* Blue color for the button */\n  border-color: #007bff;\n  border-radius: .25rem;\n}\n\n.btn-primary:hover {\n  color: #fff;\n  background-color: #0069d9;\n  border-color: #0062cc;\n}\n\n.go_login {\n  display: block;\n  text-align: right;\n  margin-top: .5rem;\n}\n\n.text-primary-emphasis {\n  color: #007bff;\n  font-weight: bold;\n}\n\n.bs-primary-bg-subtle {\n  background-color: rgba(0, 123, 255, .1);\n  padding: .25rem .5rem;\n  border-radius: .25rem;\n}\n\n.card-footer {\n  background-color: #f8f9fa;\n  border-top: 1px solid #e9ecef;\n  padding: 4px;\n}\n</style>","import { render } from \"./Login.vue?vue&type=template&id=cc4cdd72&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=cc4cdd72&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jiandongz/Desktop/vue-partner-system/vue3-deploy/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cc4cdd72\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","$event","$options","logUser","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","type","placeholder","$data","loginUser","email","_hoisted_7","_hoisted_8","_hoisted_9","password","_hoisted_10","_hoisted_11","onClick","gotoRegister","_hoisted_12","onOnclick","name","components","data","identity","methods","axios","this","then","res","console","log","token","localStorage","setItem","decoded","jwt_decode","$store","dispatch","isEmpty","$router","push","path","value","undefined","Object","keys","length","trim","__exports__","render"],"sourceRoot":""}