{"version":3,"file":"assets/js/377.a562a2c7.js","mappings":"8KACOA,MAAM,mB,GAEPC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,eAAa,EACtBC,EAAAA,EAAAA,GAAiC,MAA7BD,MAAM,cAAa,WAAK,G,GAEzBA,MAAM,a,GACJA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAwD,SAAjDD,MAAM,uBAAsB,iBAAa,G,GAS9CC,EAAAA,EAAAA,GAEC,SAFMD,MAAM,aACV,kDAA8C,G,GAIhDA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAmD,SAA5CD,MAAM,uBAAsB,YAAQ,G,GAQzCC,EAAAA,EAAAA,GAIQ,SAJDD,MAAM,aAAY,yIAIzB,G,GAIDA,MAAM,wB,GAEoBC,EAAAA,EAAAA,GAAkF,QAA5ED,MAAM,kDAAkD,iBAAa,G,0CAxC9GE,EAAAA,EAAAA,IA+CM,MA/CNC,EA+CM,EA9CJF,EAAAA,EAAAA,GA6CO,QA7CDD,MAAM,OAAQI,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAUC,EAAAC,WAAO,e,CACzCC,GAGAT,EAAAA,EAAAA,GAgCM,MAhCNU,EAgCM,EA/BJV,EAAAA,EAAAA,GAcM,MAdNW,EAcM,CAbJC,GACAZ,EAAAA,EAAAA,GAWM,sBAVJA,EAAAA,EAAAA,GAME,SALAa,KAAK,QACLd,MAAM,eACN,mBAAiB,YACjBe,YAAY,c,qCACHC,EAAAC,UAAUC,MAAKX,I,iBAAfS,EAAAC,UAAUC,SAErBC,OAKJlB,EAAAA,EAAAA,GAeM,MAfNmB,EAeM,CAdJC,GACApB,EAAAA,EAAAA,GAYM,sBAXJA,EAAAA,EAAAA,GAKE,SAJAa,KAAK,WACLd,MAAM,eACNe,YAAY,W,qCACHC,EAAAC,UAAUK,SAAQf,I,iBAAlBS,EAAAC,UAAUK,YAErBC,SAQNtB,EAAAA,EAAAA,GAOM,MAPNuB,EAOM,EANJvB,EAAAA,EAAAA,GAEO,QAFDD,MAAM,WAAYyB,QAAKpB,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAkB,c,UAAa,gCACfC,KAE7B1B,EAAAA,EAAAA,GAES,UAFDa,KAAK,SAASd,MAAM,kBAAmB4B,UAAOvB,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,YAAW,WAEnE,Y,iCASR,GACEoB,KAAM,WACNC,WAAY,CAAC,EACbC,OACE,MAAO,CACLd,UAAW,CACTY,KAAM,GACNX,MAAO,GACPI,SAAU,GACVU,SAAU,IAGhB,EACAC,QAAS,CACPxB,UACcyB,EAAAA,EAAAA,KAAW,mBAAoBC,KAAKlB,WAAWmB,MAAMC,IAC/DC,QAAQC,IAAI,WAEZ,MAAM,MAAEC,GAAUH,EAAIN,KACtBU,aAAaC,QAAQ,YAAaF,GAGlC,MAAMG,GAAUC,EAAAA,EAAAA,GAAWJ,GAC3BF,QAAQC,IAAIC,GAGZL,KAAKU,OAAOC,SAAS,oBAAqBX,KAAKY,QAAQJ,IACvDR,KAAKU,OAAOC,SAAS,UAAWH,GAEhCR,KAAKa,QAAQC,KAAK,CAAEC,KAAM,KAAM,GAEpC,EACAxB,YACES,KAAKa,QAAQC,KAAK,CAACC,KAAK,aAC1B,EACAH,QAAQI,GACN,YACYC,IAAVD,GACU,OAAVA,GACkB,kBAAVA,GAAoD,IAA9BE,OAAOC,KAAKH,GAAOI,QAC/B,kBAAVJ,GAA8C,IAAxBA,EAAMK,OAAOD,MAE/C,I,UCzFJ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://client/./src/views/Login.vue","webpack://client/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <div class=\"col-md-12 login\">\n    <form class=\"card\" @submit.prevent=\"logUser()\">\n      <div class=\"card-header\">\n        <h3 class=\"card-title\">Login</h3>\n      </div>\n      <div class=\"card-body\">\n        <div class=\"mb-3\">\n          <label class=\"form-label required\">Email address</label>\n          <div>\n            <input\n              type=\"email\"\n              class=\"form-control\"\n              aria-describedby=\"emailHelp\"\n              placeholder=\"Enter email\"\n              v-model=\"loginUser.email\"\n            />\n            <small class=\"form-hint\"\n              >We'll never share your email with anyone else.</small\n            >\n          </div>\n        </div>\n        <div class=\"mb-3\">\n          <label class=\"form-label required\">Password</label>\n          <div>\n            <input\n              type=\"password\"\n              class=\"form-control\"\n              placeholder=\"Password\"\n              v-model=\"loginUser.password\"\n            />\n            <small class=\"form-hint\">\n              Your password must be 8-20 characters long, contain letters and\n              numbers, and must not contain spaces, special characters, or\n              emoji.\n            </small>\n          </div>\n        </div>\n      </div>\n      <div class=\"card-footer text-end\">\n        <span class=\"go_login\" @click=\"gotoLogin()\">\n          Does't have a account yet? <span class=\"p-1 text-primary-emphasis bs-primary-bg-subtle \">Register here</span> \n        </span>\n        <button type=\"submit\" class=\"btn btn-primary\" @onclick=\"logUser()\">\n          Submit\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n<script>\nimport axios from \"../http\";\nimport jwt_decode from \"jwt-decode\";\n\nexport default {\n  name: \"register\",\n  components: {},\n  data() {\n    return {\n      loginUser: {\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        identity: \"\",\n      },\n    };\n  },\n  methods: {\n    logUser() {\n      const res = axios.post(\"/api/users/login\", this.loginUser).then((res) => {\n        console.log(\"success\");\n        //token\n        const { token } = res.data;\n        localStorage.setItem(\"userToken\", token);\n\n        //decode token\n        const decoded = jwt_decode(token);\n        console.log(token);\n\n        //store token into vuex\n        this.$store.dispatch(\"setAuthenticated\", !this.isEmpty(decoded));\n        this.$store.dispatch(\"setUser\", decoded);\n\n        this.$router.push({ path: \"/\" });\n      });\n    },\n    gotoLogin() {\n      this.$router.push({path:'/register'})\n    },\n    isEmpty(value) {\n      return (\n        value === undefined ||\n        value === null ||\n        (typeof value === \"object\" && Object.keys(value).length === 0) ||\n        (typeof value === \"string\" && value.trim().length === 0)\n      );\n    },\n  },\n};\n</script>\n\n<style scope>\n.login{\n   display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 50px;\n}\n\n</style>","import { render } from \"./Login.vue?vue&type=template&id=282ffbd3\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=282ffbd3&scope=true&lang=css\"\n\nimport exportComponent from \"/Users/jiandongz/Desktop/vue-partner-system/vue3-ts/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","onSubmit","_cache","_withModifiers","$event","$options","logUser","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","type","placeholder","$data","loginUser","email","_hoisted_6","_hoisted_7","_hoisted_8","password","_hoisted_9","_hoisted_10","onClick","gotoLogin","_hoisted_11","onOnclick","name","components","data","identity","methods","axios","this","then","res","console","log","token","localStorage","setItem","decoded","jwt_decode","$store","dispatch","isEmpty","$router","push","path","value","undefined","Object","keys","length","trim","__exports__","render"],"sourceRoot":""}