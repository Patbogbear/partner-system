"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[610],{7206:function(a,e,t){t.r(e),t.d(e,{default:function(){return W}});var s=t(821);const d=a=>((0,s.dD)("data-v-3c1e8d3a"),a=a(),(0,s.Cn)(),a),l={class:"home"},i={class:"page-wrapper"},n={class:"page-header d-print-none"},r={class:"container-xl"},o={class:"row g-2 align-items-center"},c=d((()=>(0,s._)("div",{class:"col"},[(0,s._)("div",{class:"page-pretitle"},"Overview"),(0,s._)("h2",{class:"page-title"},"Dashboard")],-1))),v={class:"col-auto ms-auto d-print-none"},p={class:"btn-list"},h=d((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,s._)("path",{d:"M12 5l0 14"}),(0,s._)("path",{d:"M5 12l14 0"})],-1))),g={class:"d-none d-sm-inline"},u={class:"page-body"},m={class:"container-xl"},w={class:"row row-deck row-cards"},_=d((()=>(0,s._)("div",{class:"col-sm-6 col-lg-3"},[(0,s._)("div",{class:"card"},[(0,s._)("div",{class:"card-body"},[(0,s._)("div",{class:"d-flex align-items-center"},[(0,s._)("div",{class:"subheader"},"Total Partners"),(0,s._)("div",{class:"ms-auto lh-1"},[(0,s._)("div",{class:"dropdown"},[(0,s._)("a",{class:"dropdown-toggle text-secondary",href:"#","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Last 7 days"),(0,s._)("div",{class:"dropdown-menu dropdown-menu-end"},[(0,s._)("a",{class:"dropdown-item active",href:"#"},"Last 7 days"),(0,s._)("a",{class:"dropdown-item",href:"#"},"Last 30 days"),(0,s._)("a",{class:"dropdown-item",href:"#"},"Last 3 months")])])])]),(0,s._)("div",{class:"h1 mb-3"},"Demo"),(0,s._)("div",{class:"d-flex mb-2"},[(0,s._)("div",null,"Conversion rate"),(0,s._)("div",{class:"ms-auto"},[(0,s._)("span",{class:"text-green d-inline-flex align-items-center lh-1"},[(0,s.Uk)(" 7% "),(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon ms-1",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,s._)("path",{d:"M3 17l6 -6l4 4l8 -8"}),(0,s._)("path",{d:"M14 7l7 0l0 7"})])])])]),(0,s._)("div",{class:"progress progress-sm"},[(0,s._)("div",{class:"progress-bar bg-primary",style:{width:"75%"},role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100","aria-label":"75% Complete"},[(0,s._)("span",{class:"visually-hidden"},"75% Complete")])])])])],-1))),f=(0,s.uE)('<div class="col-sm-6 col-lg-3" data-v-3c1e8d3a><div class="card" data-v-3c1e8d3a><div class="card-body" data-v-3c1e8d3a><div class="d-flex align-items-center" data-v-3c1e8d3a><div class="subheader" data-v-3c1e8d3a>In Cooperation</div><div class="ms-auto lh-1" data-v-3c1e8d3a><div class="dropdown" data-v-3c1e8d3a><a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-v-3c1e8d3a>Last 7 days</a><div class="dropdown-menu dropdown-menu-end" data-v-3c1e8d3a><a class="dropdown-item active" href="#" data-v-3c1e8d3a>Last 7 days</a><a class="dropdown-item" href="#" data-v-3c1e8d3a>Last 30 days</a><a class="dropdown-item" href="#" data-v-3c1e8d3a>Last 3 months</a></div></div></div></div><div class="d-flex align-items-baseline" data-v-3c1e8d3a><div class="h1 mb-0 me-2" data-v-3c1e8d3a>Demo</div><div class="me-auto" data-v-3c1e8d3a><span class="text-green d-inline-flex align-items-center lh-1" data-v-3c1e8d3a> 8% <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-3c1e8d3a><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-3c1e8d3a></path><path d="M3 17l6 -6l4 4l8 -8" data-v-3c1e8d3a></path><path d="M14 7l7 0l0 7" data-v-3c1e8d3a></path></svg></span></div></div></div><div id="chart-revenue-bg" class="chart-sm" data-v-3c1e8d3a></div></div></div><div class="col-sm-6 col-lg-3" data-v-3c1e8d3a><div class="card" data-v-3c1e8d3a><div class="card-body" data-v-3c1e8d3a><div class="d-flex align-items-center" data-v-3c1e8d3a><div class="subheader" data-v-3c1e8d3a>Missing Contact</div><div class="ms-auto lh-1" data-v-3c1e8d3a><div class="dropdown" data-v-3c1e8d3a><a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-v-3c1e8d3a>Last 7 days</a><div class="dropdown-menu dropdown-menu-end" data-v-3c1e8d3a><a class="dropdown-item active" href="#" data-v-3c1e8d3a>Last 7 days</a><a class="dropdown-item" href="#" data-v-3c1e8d3a>Last 30 days</a><a class="dropdown-item" href="#" data-v-3c1e8d3a>Last 3 months</a></div></div></div></div><div class="d-flex align-items-baseline" data-v-3c1e8d3a><div class="h1 mb-3 me-2" data-v-3c1e8d3a>Demo</div><div class="me-auto" data-v-3c1e8d3a><span class="text-yellow d-inline-flex align-items-center lh-1" data-v-3c1e8d3a> 0% <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-3c1e8d3a><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-3c1e8d3a></path><path d="M5 12l14 0" data-v-3c1e8d3a></path></svg></span></div></div><div id="chart-new-clients" class="chart-sm" data-v-3c1e8d3a></div></div></div></div><div class="col-sm-6 col-lg-3" data-v-3c1e8d3a><div class="card" data-v-3c1e8d3a><div class="card-body" data-v-3c1e8d3a><div class="d-flex align-items-center" data-v-3c1e8d3a><div class="subheader" data-v-3c1e8d3a>Active Partners</div><div class="ms-auto lh-1" data-v-3c1e8d3a><div class="dropdown" data-v-3c1e8d3a><a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-v-3c1e8d3a>Last 7 days</a><div class="dropdown-menu dropdown-menu-end" data-v-3c1e8d3a><a class="dropdown-item active" href="#" data-v-3c1e8d3a>Last 7 days</a><a class="dropdown-item" href="#" data-v-3c1e8d3a>Last 30 days</a><a class="dropdown-item" href="#" data-v-3c1e8d3a>Last 3 months</a></div></div></div></div><div class="d-flex align-items-baseline" data-v-3c1e8d3a><div class="h1 mb-3 me-2" data-v-3c1e8d3a>Demo</div><div class="me-auto" data-v-3c1e8d3a><span class="text-green d-inline-flex align-items-center lh-1" data-v-3c1e8d3a> 4% <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-3c1e8d3a><path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-3c1e8d3a></path><path d="M3 17l6 -6l4 4l8 -8" data-v-3c1e8d3a></path><path d="M14 7l7 0l0 7" data-v-3c1e8d3a></path></svg></span></div></div><div id="chart-active-users" class="chart-sm" data-v-3c1e8d3a></div></div></div></div><div class="col-lg-6" data-v-3c1e8d3a><div class="card" data-v-3c1e8d3a><div class="card-body" data-v-3c1e8d3a><h3 class="card-title" data-v-3c1e8d3a>Data Dashboard 1</h3><div id="chart-mentions" class="chart-lg" data-v-3c1e8d3a></div></div></div></div><div class="col-lg-6" data-v-3c1e8d3a><div class="card" data-v-3c1e8d3a><div class="card-body" data-v-3c1e8d3a><h3 class="card-title" data-v-3c1e8d3a>Data Dashboard 2</h3><div class="ratio ratio-21x9" data-v-3c1e8d3a><div data-v-3c1e8d3a><div id="map-world" class="w-100 h-100" data-v-3c1e8d3a></div></div></div></div></div></div>',5),b={class:"col-12"},k={class:"card"},x=d((()=>(0,s._)("div",{class:"card-header"},[(0,s._)("h3",{class:"card-title"},"Partner list")],-1))),y={class:"card-body border-bottom py-3"},D={class:"d-flex"},C=d((()=>(0,s._)("div",{class:"text-secondary"},[(0,s.Uk)(" Show "),(0,s._)("div",{class:"mx-2 d-inline-block"},[(0,s._)("input",{type:"text",class:"form-control form-control-sm",value:"8",size:"3","aria-label":"Invoices count"})]),(0,s.Uk)(" entries ")],-1))),P={class:"ms-auto text-secondary"},M={class:"ms-2 d-inline-block"},L={class:"table-responsive"},U={class:"table card-table table-vcenter text-nowrap datatable"},z=d((()=>(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{class:"w-1"},[(0,s._)("input",{class:"form-check-input m-0 align-middle",type:"checkbox","aria-label":"Select all invoices"})]),(0,s._)("th",{class:"w-1"},"Cluster"),(0,s._)("th",null,"Partner Type"),(0,s._)("th",null,"Partner Name"),(0,s._)("th",null,"2B/2C"),(0,s._)("th",null,"Vertical"),(0,s._)("th",null,"Actions")])],-1))),j={key:0},S=d((()=>(0,s._)("td",null,[(0,s._)("input",{class:"form-check-input m-0 align-middle",type:"checkbox","aria-label":"Select invoice"})],-1))),B={class:"text-secondary"},H=d((()=>(0,s._)("span",{class:"flag flag-country-us"},null,-1))),I={class:"text-end"},O=d((()=>(0,s._)("button",{class:"btn btn-primary",style:{"--bs-btn-padding-y":"0.25rem","--bs-btn-padding-x":"0.5rem","--bs-btn-font-size":"0.75rem"}}," detials ",-1))),R=["onClick"],Z={class:"card-footer d-flex align-items-center"},$=d((()=>(0,s._)("p",{class:"m-0 text-secondary"},[(0,s.Uk)(" Showing "),(0,s._)("span",null,"1"),(0,s.Uk)(" to "),(0,s._)("span",null,"8"),(0,s.Uk)(" of "),(0,s._)("span",null,"16"),(0,s.Uk)(" entries ")],-1))),A={class:"pagination m-0 ms-auto"},T=d((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,s._)("path",{d:"M15 6l-6 6l6 6"})],-1))),E=["onClick"],V=d((()=>(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,s._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,s._)("path",{d:"M9 6l6 6l-6 6"})],-1)));function q(a,e,t,d,q,F){const K=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",i,[(0,s._)("div",n,[(0,s._)("div",r,[(0,s._)("div",o,[c,(0,s._)("div",v,[(0,s._)("div",p,[(0,s._)("a",{onClick:e[0]||(e[0]=a=>F.goto_add()),class:"btn btn-primary d-none d-sm-inline-block add-new-partner","data-bs-toggle":"modal","data-bs-target":"#modal-report"},[h,(0,s.Uk)(" Add new partner ")]),(0,s._)("span",g,[(0,s._)("a",{href:"#",class:"btn logout",onClick:e[1]||(e[1]=a=>F.logOut())}," Logout ")])])])])])]),(0,s._)("div",u,[(0,s._)("div",m,[(0,s._)("div",w,[_,f,(0,s._)("div",b,[(0,s._)("div",k,[x,(0,s._)("div",y,[(0,s._)("div",D,[C,(0,s._)("div",P,[(0,s.Uk)(" Search: "),(0,s._)("div",M,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>q.filterInput=a),type:"text",class:"form-control form-control-sm","aria-label":"Search invoice"},null,512),[[s.nr,q.filterInput]])])])])]),(0,s._)("div",L,[(0,s._)("table",U,[z,F.user?((0,s.wg)(),(0,s.iD)("tbody",j,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(F.paginatedData,(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a._id},[S,(0,s._)("td",null,[(0,s._)("span",B,(0,s.zw)(a.cluster),1)]),(0,s._)("td",null,(0,s.zw)(a.third_partner_type),1),(0,s._)("td",null,[H,(0,s.Uk)(" "+(0,s.zw)(a.third_partner_name),1)]),(0,s._)("td",null,(0,s.zw)(a.b2b_or_b2c),1),(0,s._)("td",null,(0,s.zw)(a.vertical),1),(0,s._)("td",I,[(0,s.Wm)(K,{class:"single-partner",to:"/single-partner/"+a._id},{default:(0,s.w5)((()=>[O])),_:2},1032,["to"]),"Super-Admin"==F.user.identity?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-dark",style:{"--bs-btn-padding-y":"0.25rem","--bs-btn-padding-x":"0.5rem","--bs-btn-font-size":"0.75rem"},"data-bs-toggle":"dropdown",onClick:(0,s.iM)((e=>F.deleteData(a._id)),["stop"])}," delete ",8,R)):(0,s.kq)("",!0)])])))),128))])):(0,s.kq)("",!0)])]),(0,s._)("div",Z,[$,(0,s._)("ul",A,[(0,s._)("li",{class:(0,s.C_)(["page-item",{disabled:1===q.currentPage}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:e[3]||(e[3]=(0,s.iM)((a=>q.currentPage--),["prevent"]))},[T,(0,s.Uk)(" prev ")])],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(F.totalPages,(a=>((0,s.wg)(),(0,s.iD)("li",{class:(0,s.C_)(["page-item",{active:a===q.currentPage}]),key:a},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,s.iM)((e=>q.currentPage=a),["prevent"])},(0,s.zw)(a),9,E)],2)))),128)),(0,s._)("li",{class:(0,s.C_)(["page-item",{disabled:q.currentPage===F.totalPages}])},[(0,s._)("a",{class:"page-link",href:"#",onClick:e[4]||(e[4]=(0,s.iM)((a=>q.currentPage++),["prevent"]))},[(0,s.Uk)(" next "),V])],2)])])])])])])])])])}t(7658);var F=t(6828),K={name:"index",components:{},data(){return{partners:[],filterInput:[],exportsData:[],currentPage:1,itemsPerPage:10}},computed:{user(){return console.log(this.$store.getters.user),this.$store.getters.user},paginatedData(){const a=this.filteredData(this.partners,this.filterInput),e=(this.currentPage-1)*this.itemsPerPage,t=this.currentPage*this.itemsPerPage;return a.slice(e,t)},totalPages(){return Math.ceil(this.filteredData(this.partners,this.filterInput).length/this.itemsPerPage)}},created(){this.getData()},methods:{filteredData(a,e){const t=new RegExp(e,"i");return a.filter((a=>Object.values(a).some((a=>"string"===typeof a&&t.test(a)))))},getData(){F.Z.get("api/partners").then((a=>{this.partners=a.data})).catch((a=>console.log(a)))},deleteData(a){F.Z["delete"]("api/partners/delete/"+a).then((a=>{this.getData()}))},exportToCSV(){F.Z.get("api/partners/export").then((a=>{this.exportsData=a.data;const e=[],t=Object.keys(this.exportsData[0]);e.push(t.join(","));for(const n of this.exportsData){const a=[];for(const e of t){const t=void 0!==n[e]?n[e]:"";a.push(t)}e.push(a.join(","))}const s=e.join("\n"),d=new Blob([s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),i=URL.createObjectURL(d);l.href=i,l.download="data.csv",l.click(),URL.revokeObjectURL(i)})).catch((a=>console.log(a)))},uploadFile(a){const e=a.target.files[0],t=new FormData;t.append("csv",e);try{F.Z.post("api/partners/upload",t),console.log("success")}catch(s){alert("上传失败："+s.message)}},logOut(){localStorage.removeItem("userToken"),this.$store.dispatch("clearCurrentState"),this.$router.push({path:"/login"})},goto_add(){this.$router.push({path:"/add"})}}},Y=t(3744);const N=(0,Y.Z)(K,[["render",q],["__scopeId","data-v-3c1e8d3a"]]);var W=N}}]);
//# sourceMappingURL=610.f02ef3da.js.map