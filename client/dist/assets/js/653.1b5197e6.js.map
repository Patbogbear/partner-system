{"version":3,"file":"assets/js/653.1b5197e6.js","mappings":"ugHA4KA,MAAMA,GAAWC,EAAAA,EAAAA,IAAI,IAEfC,GAAcD,EAAAA,EAAAA,IAAI,IAClBE,GAAQC,EAAAA,EAAAA,MACRC,GAAeC,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,QAAQC,OAC5CC,GAAkBR,EAAAA,EAAAA,IAAI,MACtBS,GAA0BT,EAAAA,EAAAA,IAAI,MAC9BU,GAAcV,EAAAA,EAAAA,IAAI,MAClBW,GAAoBX,EAAAA,EAAAA,IAAI,MACxBY,GAAgBZ,EAAAA,EAAAA,IAAI,MACpBa,GAAgBb,EAAAA,EAAAA,IAAI,MACpBc,GAAgBd,EAAAA,EAAAA,IAAI,OACPA,EAAAA,EAAAA,IAAI,KAGvBe,EAAAA,EAAAA,KAAUC,gBACFC,GAAS,IAGjB,MAAMA,EAAUD,UACd,IACE,IAAI,KAAEE,SAAeC,EAAAA,EAAAA,IAAU,iBAC/BpB,EAASqB,MAAQF,CACnB,CAAE,MAAOG,GAAQ,GAEbC,GAAejB,EAAAA,EAAAA,KAAS,KAC5B,MAAMe,EAAQ,CACZZ,gBAAiBA,EAAgBY,MACjCX,wBAAyBA,EAAwBW,MACjDV,YAAaA,EAAYU,MACzBT,kBAAmBA,EAAkBS,MACrCR,cAAeA,EAAcQ,MAC7BP,cAAeA,EAAcO,MAC7BN,cAAeA,EAAcM,OAE/B,OAAOG,EAAWxB,EAASqB,MAAOA,EAAM,IAKpCG,EAAaA,CAACL,EAAME,KACxB,IAAII,EAASN,EA4Bb,OA3BIE,EAAMZ,kBACRgB,EAASA,EAAOC,QACbC,GAAYA,EAAQC,aAAeP,EAAMZ,mBAG1CY,EAAMX,0BACRe,EAASA,EAAOC,QACbC,GAAYA,EAAQE,qBAAuBR,EAAMX,2BAGlDW,EAAMV,cACRc,EAASA,EAAOC,QAAQC,GAAYA,EAAQG,OAAST,EAAMV,eAEzDU,EAAMT,oBACRa,EAASA,EAAOC,QACbC,GAAYA,EAAQI,uBAAyBV,EAAMT,qBAGpDS,EAAMR,gBACRY,EAASA,EAAOC,QAAQC,GAAYA,EAAQK,SAAWX,EAAMR,iBAE3DQ,EAAMP,gBACRW,EAASA,EAAOC,QAAQC,GAAYA,EAAQM,SAAWZ,EAAMP,iBAE3DO,EAAMN,gBACRU,EAASA,EAAOC,QAAQC,GAAYA,EAAQO,SAAWb,EAAMN,iBAExDU,CAAM,EAGTU,EAAaA,CAACnC,EAAUqB,KAC5Be,QAAQC,IAAIhB,GACZ,MAAMiB,EAAQ,IAAIC,OAAOlB,EAAO,KAChC,OAAOrB,EAAS0B,QAAQC,GACtBa,OAAOC,OAAOd,GAASe,MACpBC,GAA2B,kBAAVA,GAAsBL,EAAMM,KAAKD,MAEtD,E,6kFCrPH,MAAME,IAA2B,QAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,S","sources":["webpack://client/./src/views/Partner_List.vue","webpack://client/./src/views/Partner_List.vue?5ec4"],"sourcesContent":["<template>\n  <div class=\"about\">\n    <div class=\"filter\">\n      <div class=\"search_form\">\n        <form class=\"d-flex custom_search\" role=\"search\">\n          <input\n            v-model=\"filterInput\"\n            class=\"form-control me-2\"\n            type=\"search\"\n            placeholder=\"Search\"\n            aria-label=\"Search\"\n          />\n          <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\n        </form>\n      </div>\n      <div class=\"select_section\">\n        <div class=\"category\">\n          <div class=\"left\">\n            <div>服务商类型</div>\n          </div>\n          <div class=\"right\">\n            <div class=\"item_one\">\n              <label class=\"form-label\">2B或2C</label>\n              <select v-model=\"select_2b_or_2c\">\n                <option value=\"2B\">2B</option>\n                <option value=\"2C\">2C</option>\n              </select>\n            </div>\n            <div class=\"item_one\">\n              <label class=\"form-label\">选择级别</label>\n              <select v-model=\"select_tier\">\n                <option value=\"A1\">A1</option>\n                <option value=\"A2\">A2</option>\n                <option value=\"B1\">B1</option>\n                <option value=\"B2\">B2</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div class=\"category\">\n          <div class=\"left\">服务商情况</div>\n          <div class=\"right\">\n            <div class=\"item_one\">\n              是否第一次合作\n              <select v-model=\"select_first_time\">\n                <option value=\"是\">是</option>\n                <option value=\"否\">否</option>\n              </select>\n            </div>\n            <div class=\"item_one\">\n              POC-HZ\n              <select v-model=\"select_hz_poc\">\n                <option value=\"jinyang\">jinyang</option>\n                <option value=\"zhimaop\">zhimaop</option>\n                <option value=\"qinying\">qinying</option>\n                <option value=\"yiduc\">yiduc</option>\n              </select>\n            </div>\n            <div class=\"item_one\">\n              POC-SH<select v-model=\"select_sh_poc\">\n                <option value=\"xieyang\">xieyang</option>\n                <option value=\"fangfangf\">fangfangf</option>\n              </select>\n            </div>\n            <div class=\"item_one\">\n              POC-BJ<select v-model=\"select_bj_poc\">\n                <option value=\"xieyang\">xieyang</option>\n                <option value=\"fangfangf\">fangfangf</option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"filterInput\" class=\"row\">\n      <div\n        v-for=\"partner in SearchData(partners, filterInput)\"\n        :key=\"partner._id\"\n        class=\"single_item col-sm-6 col-lg-3\"\n      >\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">{{ partner.third_partner_name }}</h3>\n          </div>\n          <div class=\"card-body\">\n            <dl class=\"row\">\n              <dt class=\"col-5\">Vertical:</dt>\n              <dd class=\"col-7\">{{ partner.vertical }}</dd>\n              <dt class=\"col-5\">Account:</dt>\n              <dd class=\"col-7\">tabler</dd>\n              <dt class=\"col-5\">Location:</dt>\n              <dd class=\"col-7\">\n                <span class=\"flag flag-country-pl\"></span> Poland\n              </dd>\n              <dt class=\"col-5\">IP Address:</dt>\n              <dd class=\"col-7\">46.113.11.3</dd>\n              <dt class=\"col-5\">Operating system:</dt>\n              <dd class=\"col-7\">OS X 10.15.2 64-bit</dd>\n              <dt class=\"col-5\">Browser:</dt>\n              <dd class=\"col-7\">Chrome</dd>\n            </dl>\n          </div>\n          <div class=\"card-footer\">\n            <router-link\n              :to=\"'/single-partner/' + partner._id\"\n              class=\"btn btn-primary\"\n              >Partner details</router-link\n            >\n            <router-link\n              v-if=\"userIdentity.identity == 'Super-Admin'\"\n              class=\"btn btn-primary\"\n              :to=\"'/detials/' + partner._id\"\n            >\n              <div>Edit Partner</div>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"row\">\n      <div\n        v-for=\"partner in filteredData\"\n        :key=\"partner._id\"\n        class=\"card single_item col-lg-3\"\n      >\n        <div class=\"card\">\n          <div class=\"card-header\">\n            <h3 class=\"card-title\">{{ partner.third_partner_name }}</h3>\n          </div>\n          <div class=\"card-body\">\n            <dl class=\"row\">\n              <dt class=\"col-5\">Vertical:</dt>\n              <dd class=\"col-7\">{{ partner.vertical }}</dd>\n              <dt class=\"col-5\">Account:</dt>\n              <dd class=\"col-7\">tabler</dd>\n              <dt class=\"col-5\">Location:</dt>\n              <dd class=\"col-7\">\n                <span class=\"flag flag-country-pl\"></span> Poland\n              </dd>\n              <dt class=\"col-5\">IP Address:</dt>\n              <dd class=\"col-7\">46.113.11.3</dd>\n              <dt class=\"col-5\">Operating system:</dt>\n              <dd class=\"col-7\">OS X 10.15.2 64-bit</dd>\n              <dt class=\"col-5\">Browser:</dt>\n              <dd class=\"col-7\">Chrome</dd>\n            </dl>\n          </div>\n          <div class=\"card-footer\">\n            <router-link\n              :to=\"'/single-partner/' + partner._id\"\n              class=\"btn btn-primary\"\n              >Partner details</router-link\n            >\n            <router-link\n              v-if=\"userIdentity.identity == 'Super-Admin'\"\n              class=\"btn btn-primary\"\n              :to=\"'/detials/' + partner._id\"\n            >\n              <div>Edit Partner</div>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from \"vue\";\nimport axios from \"../http\";\nimport { useStore } from \"vuex\";\n\nconst partners = ref([]);\n//here changed filterInput type into '' so as to avoid search function and filter function not working same time\nconst filterInput = ref(\"\");\nconst store = useStore();\nconst userIdentity = computed(() => store.getters.user);\nconst select_2b_or_2c = ref(null);\nconst select_agent_or_partner = ref(null);\nconst select_tier = ref(null);\nconst select_first_time = ref(null);\nconst select_hz_poc = ref(null);\nconst select_sh_poc = ref(null);\nconst select_bj_poc = ref(null);\nconst searchData = ref([]);\n\n\nonMounted(async () => {\n  await getData();\n});\n\nconst getData = async () => {\n  try {\n    let { data } = await axios.get(\"/api/partners\");\n    partners.value = data;\n  } catch (error) {}\n};\nconst filteredData = computed(() => {\n  const value = {\n    select_2b_or_2c: select_2b_or_2c.value,\n    select_agent_or_partner: select_agent_or_partner.value,\n    select_tier: select_tier.value,\n    select_first_time: select_first_time.value,\n    select_hz_poc: select_hz_poc.value,\n    select_sh_poc: select_sh_poc.value,\n    select_bj_poc: select_bj_poc.value,\n  };\n  return filterData(partners.value, value);\n});\n\n\n\nconst filterData = (data, value) => {\n  let result = data;\n  if (value.select_2b_or_2c) {\n    result = result.filter(\n      (partner) => partner.b2b_or_b2c === value.select_2b_or_2c\n    );\n  }\n  if (value.select_agent_or_partner) {\n    result = result.filter(\n      (partner) => partner.thrid_partner_type === value.select_agent_or_partner\n    );\n  }\n  if (value.select_tier) {\n    result = result.filter((partner) => partner.tier === value.select_tier);\n  }\n  if (value.select_first_time) {\n    result = result.filter(\n      (partner) => partner.first_time_cooperate === value.select_first_time\n    );\n  }\n  if (value.select_hz_poc) {\n    result = result.filter((partner) => partner.POC_HZ === value.select_hz_poc);\n  }\n  if (value.select_sh_poc) {\n    result = result.filter((partner) => partner.POC_SH === value.select_sh_poc);\n  }\n  if (value.select_bj_poc) {\n    result = result.filter((partner) => partner.POC_BJ === value.select_bj_poc);\n  }\n  return result;\n};\n\nconst SearchData = (partners, value) => {\n  console.log(value);\n  const regex = new RegExp(value, \"i\");\n  return partners.filter((partner) =>\n    Object.values(partner).some(\n      (field) => typeof field === \"string\" && regex.test(field)\n    )\n  );\n};\n</script>\n\n<style scoped>\n.about {\n  margin-top: -35px;\n}\n.filter {\n  height: 185px;\n  left: calc(50% - 817px / 2 + 91.5px);\n  background: #ffffff;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.1);\n  border-radius: 1px 4px 4px 1px;\n}\n\n.row {\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: 100px;\n  margin-right: 100px;\n  margin-top: 50px;\n}\n.category {\n  display: flex;\n  padding-left: 250px;\n  padding-top: 30px;\n}\n.right {\n  display: flex;\n  margin-left: 50px;\n}\n.select_section {\n  margin-bottom: 30px;\n}\n.single_item {\n  width: 30%;\n  margin: 5px;\n  background: #ffffff;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.05);\n  border-radius: 1px 4px 4px 1px;\n}\n/* @media (min-width: 992px) {\n  .col-lg-3 {\n    flex: 0 0 auto;\n    width: 50%;\n  }\n} */\n.custom_search {\n  margin-left: 250px;\n  margin-right: 250px;\n  margin-top: 80px;\n  padding-top: 15px;\n}\n.item_one {\n  padding-right: 20px;\n}\n@media (min-width: 992px) {\n  .col-lg-3 {\n    flex: 0 0 auto;\n    width: 30%;\n  }\n}\n.row-deck > .col .card,\n.row-deck > [class*=\"col-\"] .card {\n  flex: 1 1 auto;\n}\n.card {\n  box-shadow: rgba(35, 46, 60, 0.04) 0 2px 4px 0;\n  border: 1px solid rgba(101, 109, 119, 0.16);\n}\n.card-header {\n  color: inherit;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  margin-bottom: 0;\n  color: #656d77;\n  background-color: #fff;\n  border-bottom: 1px solid rgba(101, 109, 119, 0.16);\n}\n.card-header:first-child {\n  border-radius: 3px 3px 0 0;\n}\n.card-header .card-title {\n  margin: 0.125rem 0;\n}\n.card-title {\n  display: block;\n  margin: 0 0 1rem;\n  font-weight: 500;\n  line-height: 1.5rem;\n}\n.card-table {\n  margin-bottom: 0 !important;\n}\n.card-body {\n  flex: 1 1 auto;\n  padding: 1rem 1rem;\n}\n.card-body > :last-child {\n  margin-bottom: 0;\n}\n.row {\n  --tblr-gutter-x: 1rem;\n  --tblr-gutter-y: 0;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: calc(var(--tblr-gutter-y) * -1);\n  margin-right: calc(var(--tblr-gutter-x) / -2);\n  margin-left: calc(var(--tblr-gutter-x) / -2);\n}\ndl {\n  display: block;\n  margin-block-start: 1em;\n  margin-block-end: 1em;\n  margin-inline-start: 0px;\n  margin-inline-end: 0px;\n}\n.row > * {\n  min-width: 0;\n}\n.col-5 {\n  flex: 0 0 auto;\n  width: 41.6666667%;\n}\n.col-7 {\n  flex: 0 0 auto;\n  width: 58.3333333%;\n}\n</style>","import script from \"./Partner_List.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Partner_List.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Partner_List.vue?vue&type=style&index=0&id=900e4f56&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/jiandongz/Desktop/vue-partner-system/vue3-ts/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-900e4f56\"]])\n\nexport default __exports__"],"names":["partners","ref","filterInput","store","useStore","userIdentity","computed","getters","user","select_2b_or_2c","select_agent_or_partner","select_tier","select_first_time","select_hz_poc","select_sh_poc","select_bj_poc","onMounted","async","getData","data","axios","value","error","filteredData","filterData","result","filter","partner","b2b_or_b2c","thrid_partner_type","tier","first_time_cooperate","POC_HZ","POC_SH","POC_BJ","SearchData","console","log","regex","RegExp","Object","values","some","field","test","__exports__"],"sourceRoot":""}